{"version":3,"sources":["html-class.service.ts"],"names":["core_1","require","objectPath","rxjs_1","HtmlClassService","this","loaded","onClassesUpdated$","BehaviorSubject","classes","prototype","setConfig","layoutConfig","config","preInit","header","header_container","header_mobile","header_menu","aside_menu","subheader","subheader_container","content","content_container","footer_container","attrs","initLayout","initLoader","initHeader","initSubheader","initContent","initAside","initFooter","initSkins","next","getClasses","path","toString","get","Array","isArray","join","getAttributes","layout","updatedLayout","Object","assign","subheaderFixed","headerSelfFixedDesktop","style","fixed","selfBodyBackgroundImage","document","body","backgroundImage","selfBodyClass","split","forEach","cssClass","classList","add","push","headerMenuSelfDisplay","headerMenuSelfLayout","subheaderStyle","asideMenuDropdown","asideMenuSubmenuDropdownHoverTimout","headerSelfTheme","brandSelfTheme","__decorate","Injectable","exports"],"mappings":"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","file":"html-class.service.min.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport * as objectPath from 'object-path';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { LayoutConfigModel } from '../../core/_base/layout';\r\n\r\nexport interface ClassType {\r\n  header: string[];\r\n  header_container: string[];\r\n  header_mobile: string[];\r\n  header_menu: string[];\r\n  aside_menu: string[];\r\n  subheader: string[];\r\n  subheader_container: string[];\r\n  content: string[];\r\n  content_container: string[];\r\n  footer_container: string[];\r\n}\r\n\r\nexport interface AttrType {\r\n  aside_menu: any;\r\n}\r\n\r\n@Injectable()\r\nexport class HtmlClassService {\r\n\r\n  config: LayoutConfigModel;\r\n\r\n  classes: ClassType;\r\n\r\n  attrs: AttrType;\r\n\r\n  onClassesUpdated$: BehaviorSubject<ClassType>;\r\n\r\n  private loaded: string[] = [];\r\n\r\n  constructor() {\r\n    this.onClassesUpdated$ = new BehaviorSubject(this.classes);\r\n  }\r\n\r\n  setConfig(layoutConfig: LayoutConfigModel) {\r\n    this.config = this.preInit(layoutConfig);\r\n\r\n    // scope list of classes\r\n    this.classes = {\r\n      header: [],\r\n      header_container: [],\r\n      header_mobile: [],\r\n      header_menu: [],\r\n      aside_menu: [],\r\n      subheader: [],\r\n      subheader_container: [],\r\n      content: [],\r\n      content_container: [],\r\n      footer_container: []\r\n    };\r\n\r\n    this.attrs = {\r\n      aside_menu: {}\r\n    };\r\n\r\n    // init base layout\r\n    this.initLayout();\r\n    this.initLoader();\r\n\r\n    // init header and subheader menu\r\n    this.initHeader();\r\n    this.initSubheader();\r\n\r\n    // init content\r\n    this.initContent();\r\n    // init aside and aside menu\r\n    this.initAside();\r\n\r\n    // init footer\r\n    this.initFooter();\r\n\r\n    this.initSkins();\r\n\r\n    this.onClassesUpdated$.next(this.classes);\r\n  }\r\n\r\n  getClasses(path?: string, toString?: boolean): ClassType | string[] | string {\r\n    if (path) {\r\n      const classes = objectPath.get(this.classes, path) || '';\r\n      if (toString && Array.isArray(classes)) {\r\n        return classes.join(' ');\r\n      }\r\n      return classes.toString();\r\n    }\r\n    return this.classes;\r\n  }\r\n\r\n  getAttributes(path: string): any {\r\n    return this.attrs[path];\r\n  }\r\n\r\n  private preInit(layout) {\r\n    const updatedLayout = Object.assign({}, layout);\r\n    const subheaderFixed = objectPath.get(updatedLayout, 'subheader.fixed');\r\n    const headerSelfFixedDesktop = objectPath.get(updatedLayout, 'header.self.fixed.desktop');\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      updatedLayout.subheader.style = 'solid';\r\n    } else {\r\n      updatedLayout.subheader.fixed = false;\r\n    }\r\n\r\n    return layout;\r\n  }\r\n\r\n  private initLayout() {\r\n    const selfBodyBackgroundImage = objectPath.get(this.config, 'self.body.background-image');\r\n    if (selfBodyBackgroundImage) {\r\n      document.body.style.backgroundImage = `url(\"${selfBodyBackgroundImage}\")`;\r\n    }\r\n\r\n    const selfBodyClass = ((objectPath.get(this.config, 'self.body.class')) || '').toString();\r\n    if (selfBodyClass) {\r\n      const bodyClasses: string[] = selfBodyClass.split(' ');\r\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\r\n    }\r\n  }\r\n\r\n  private initLoader() {\r\n  }\r\n\r\n  private initHeader() {\r\n    // Fixed header\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, 'header.self.fixed.desktop');\r\n    if (headerSelfFixedDesktop) {\r\n      document.body.classList.add('header-fixed');\r\n      objectPath.push(this.classes, 'header', 'header-fixed');\r\n    } else {\r\n      document.body.classList.add('header-static');\r\n    }\r\n\r\n    const headerSelfFixedMobile = objectPath.get(this.config, 'header.self.fixed.mobile');\r\n    if (headerSelfFixedMobile) {\r\n      document.body.classList.add('header-mobile-fixed');\r\n      objectPath.push(this.classes, 'header_mobile', 'header-mobile-fixed');\r\n    }\r\n\r\n    // Menu\r\n    const headerMenuSelfDisplay = objectPath.get(this.config, 'header.menu.self.display');\r\n    const headerMenuSelfLayout = objectPath.get(this.config, 'header.menu.self.layout');\r\n    if (headerMenuSelfDisplay) {\r\n      objectPath.push(this.classes, 'header_menu', `header-menu-layout-${headerMenuSelfLayout}`);\r\n\r\n      if (objectPath.get(this.config, 'header.menu.self.rootArrow')) {\r\n        objectPath.push(this.classes, 'header_menu', 'header-menu-root-arrow');\r\n      }\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'header.self.width') === 'fluid') {\r\n      objectPath.push(this.classes, 'header_container', 'container-fluid');\r\n    } else {\r\n      objectPath.push(this.classes, 'header_container', 'container');\r\n    }\r\n  }\r\n\r\n  private initSubheader() {\r\n    const subheaderDisplay = objectPath.get(this.config, 'subheader.display');\r\n    if (subheaderDisplay) {\r\n      document.body.classList.add('subheader-enabled');\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    const subheaderFixed = objectPath.get(this.config, 'subheader.fixed');\r\n    const headerSelfFixedDesktop = objectPath.get(this.config, 'header.self.fixed.desktop');\r\n    if (subheaderFixed && headerSelfFixedDesktop) {\r\n      document.body.classList.add('subheader-fixed');\r\n    }\r\n\r\n    const subheaderStyle = objectPath.get(this.config, 'subheader.style');\r\n    if (subheaderStyle) {\r\n      objectPath.push(this.classes, 'subheader', `subheader-${subheaderStyle}`);\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'subheader.width') === 'fluid') {\r\n      objectPath.push(this.classes, 'subheader_container', 'container-fluid');\r\n    } else {\r\n      objectPath.push(this.classes, 'subheader_container', 'container');\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'subheader.clear')) {\r\n      objectPath.push(this.classes, 'subheader', 'mb-0');\r\n    }\r\n  }\r\n\r\n  // Init Content\r\n  private initContent() {\r\n    if (objectPath.get(this.config, 'content.fit-top')) {\r\n      objectPath.push(this.classes, 'content', 'pt-0');\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'content.fit-bottom')) {\r\n      objectPath.push(this.classes, 'content', 'pb-0');\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'content.width') === 'fluid') {\r\n      objectPath.push(this.classes, 'content_container', 'container-fluid');\r\n    } else {\r\n      objectPath.push(this.classes, 'content_container', 'container');\r\n    }\r\n  }\r\n\r\n  private initAside() {\r\n    if (objectPath.get(this.config, 'aside.self.display') !== true) {\r\n      return;\r\n    }\r\n\r\n    // Enable Aside\r\n    document.body.classList.add('aside-enabled');\r\n\r\n    // Fixed Aside\r\n    if (objectPath.get(this.config, 'aside.self.fixed')) {\r\n      document.body.classList.add('aside-fixed');\r\n      objectPath.push(this.classes, 'aside', 'aside-fixed');\r\n    } else {\r\n      document.body.classList.add('aside-static');\r\n    }\r\n\r\n    // Check Aside\r\n    if (objectPath.get(this.config, 'aside.self.display') !== true) {\r\n      return;\r\n    }\r\n\r\n    // Default fixed\r\n    if (objectPath.get(this.config, 'aside.self.minimize.default')) {\r\n      document.body.classList.add('aside-minimize');\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'aside.self.minimize.hoverable')) {\r\n      document.body.classList.add('aside-minimize-hoverable');\r\n    }\r\n\r\n    const asideMenuDropdown = objectPath.get(this.config, 'aside.menu.dropdown');\r\n    if (asideMenuDropdown) {\r\n      objectPath.push(this.classes, 'aside_menu', 'aside-menu-dropdown');\r\n      // tslint:disable-next-line\r\n      this.attrs['aside_menu']['data-menu-dropdown'] = '1';\r\n    }\r\n\r\n    // Scrollable Menu\r\n    if (asideMenuDropdown !== true) {\r\n      // tslint:disable-next-line\r\n      this.attrs['aside_menu']['data-menu-scroll'] = '1';\r\n    } else {\r\n      // tslint:disable-next-line\r\n      this.attrs['aside_menu']['data-menu-scroll'] = '0';\r\n    }\r\n\r\n    const asideMenuSubmenuDropdownHoverTimout = objectPath.get(this.config, 'aside.menu.submenu.dropdown.hover-timeout');\r\n    if (asideMenuSubmenuDropdownHoverTimout) {\r\n      // tslint:disable-next-line\r\n      this.attrs['aside_menu']['data-menu-dropdown-timeout'] = asideMenuSubmenuDropdownHoverTimout;\r\n    }\r\n  }\r\n\r\n  private initFooter() {\r\n    // Fixed header\r\n    if (objectPath.get(this.config, 'footer.fixed') === true) {\r\n      document.body.classList.add('footer-fixed');\r\n    }\r\n\r\n    if (objectPath.get(this.config, 'footer.width') === 'fluid') {\r\n      objectPath.push(this.classes, 'footer_container', 'container-fluid');\r\n    } else {\r\n      objectPath.push(this.classes, 'footer_container', 'container');\r\n    }\r\n  }\r\n\r\n  private initSkins() {\r\n    const headerSelfTheme = objectPath.get(this.config, 'header.self.theme') || '';\r\n    const brandSelfTheme = objectPath.get(this.config, 'brand.self.theme') || '';\r\n    const asideSelfDisplay = objectPath.get(this.config, 'aside.self.display');\r\n    if (asideSelfDisplay === false) {\r\n      document.body.classList.add(`brand-${headerSelfTheme}`);\r\n    } else {\r\n      document.body.classList.add(`brand-${brandSelfTheme}`);\r\n    }\r\n  }\r\n}\r\n"]}