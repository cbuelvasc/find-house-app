{"version":3,"sources":["aside-left.component.ts"],"names":[],"mappings":"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","file":"aside-left.component.js","sourcesContent":["import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  OnInit,\r\n  Renderer2,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { filter } from 'rxjs/operators';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport * as objectPath from 'object-path';\r\n\r\nimport { LayoutConfigService, MenuAsideService, MenuOptions, OffcanvasOptions } from '../../../core/_base/layout';\r\nimport { HtmlClassService } from '../html-class.service';\r\n\r\n@Component({\r\n  selector: 'app-aside-left',\r\n  templateUrl: './aside-left.component.html',\r\n  styleUrls: ['./aside-left.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class AsideLeftComponent implements OnInit, AfterViewInit {\r\n  private offcanvas: any;\r\n\r\n  @ViewChild('asideMenuOffcanvas', { static: true }) asideMenuOffcanvas: ElementRef;\r\n  @ViewChild('asideMenu', { static: true }) asideMenu: ElementRef;\r\n\r\n  asideLogo = '';\r\n  asideClasses = '';\r\n  currentRouteUrl = '';\r\n  insideTm: any;\r\n  outsideTm: any;\r\n\r\n  menuCanvasOptions: OffcanvasOptions = {\r\n    baseClass: 'aside',\r\n    overlay: true,\r\n    closeBy: 'kt_aside_close_btn',\r\n    toggleBy: {\r\n      target: 'kt_aside_mobile_toggle',\r\n      state: 'mobile-toggle-active'\r\n    }\r\n  };\r\n\r\n  menuOptions: MenuOptions = {\r\n    submenu: {\r\n      desktop: {\r\n        default: 'dropdown',\r\n      },\r\n      tablet: 'accordion',\r\n      mobile: 'accordion'\r\n    },\r\n    accordion: {\r\n      expandAll: false\r\n    }\r\n  };\r\n\r\n  constructor(\r\n    public htmlClassService: HtmlClassService,\r\n    public menuAsideService: MenuAsideService,\r\n    public layoutConfigService: LayoutConfigService,\r\n    private router: Router,\r\n    private render: Renderer2,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.currentRouteUrl = this.router.url.split(/[?#]/)[0];\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationEnd))\r\n      .subscribe(event => {\r\n        this.currentRouteUrl = this.router.url.split(/[?#]/)[0];\r\n        this.mobileMenuClose();\r\n        this.cdr.markForCheck();\r\n      });\r\n    const config = this.layoutConfigService.getConfig();\r\n\r\n    if (objectPath.get(config, 'aside.menu.dropdown')) {\r\n      this.render.setAttribute(this.asideMenu.nativeElement, 'data-ktmenu-dropdown', '1');\r\n      // tslint:disable-next-line:max-line-length\r\n      this.render.setAttribute(this.asideMenu.nativeElement, 'data-ktmenu-dropdown-timeout', objectPath.get(config, 'aside.menu.submenu.dropdown.hover-timeout'));\r\n    }\r\n    this.asideClasses = this.htmlClassService.getClasses('aside', true).toString();\r\n    this.asideLogo = this.getAsideLogo();\r\n    setTimeout(() => {\r\n      this.offcanvas = new KTOffcanvas(this.asideMenuOffcanvas.nativeElement, this.menuCanvasOptions);\r\n    });\r\n  }\r\n\r\n  getAsideLogo() {\r\n    let result = 'logo-light.png';\r\n    const brandSelfTheme = this.layoutConfigService.getConfig('brand.self.theme') || '';\r\n    if (brandSelfTheme === 'light') {\r\n      result = 'logo-dark.png';\r\n    }\r\n    return `./assets/media/logos/${result}`;\r\n  }\r\n\r\n  isMenuItemIsActive(item): boolean {\r\n    if (item.submenu) {\r\n      return this.isMenuRootItemIsActive(item);\r\n    }\r\n\r\n    if (!item.page) {\r\n      return false;\r\n    }\r\n    return this.currentRouteUrl.indexOf(item.page) !== -1;\r\n  }\r\n\r\n  isMenuRootItemIsActive(item): boolean {\r\n    let result = false;\r\n    for (const subItem of item.submenu) {\r\n      result = this.isMenuItemIsActive(subItem);\r\n      if (result) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  mouseEnter(e: Event) {\r\n    if (document.body.classList.contains('aside-fixed')) {\r\n      if (this.outsideTm) {\r\n        clearTimeout(this.outsideTm);\r\n        this.outsideTm = null;\r\n      }\r\n\r\n      this.insideTm = setTimeout(() => {\r\n        if (document.body.classList.contains('aside-minimize') && KTUtil.isInResponsiveRange('desktop')) {\r\n          this.render.removeClass(document.body, 'aside-minimize');\r\n          this.render.addClass(document.body, 'aside-minimize-hover');\r\n        }\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  mouseLeave(e: Event) {\r\n    if (document.body.classList.contains('aside-fixed')) {\r\n      if (this.insideTm) {\r\n        clearTimeout(this.insideTm);\r\n        this.insideTm = null;\r\n      }\r\n\r\n      this.outsideTm = setTimeout(() => {\r\n        // if the left aside menu is expand\r\n        if (document.body.classList.contains('aside-minimize-hover') && KTUtil.isInResponsiveRange('desktop')) {\r\n          // hide back the left aside menu\r\n          this.render.removeClass(document.body, 'aside-minimize-hover');\r\n          this.render.addClass(document.body, 'aside-minimize');\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  getItemCssClasses(item) {\r\n    let classes = 'menu-item';\r\n\r\n    if (objectPath.get(item, 'submenu')) {\r\n      classes += ' menu-item-submenu';\r\n    }\r\n\r\n    if (!item.submenu && this.isMenuItemIsActive(item)) {\r\n      classes += ' menu-item-active menu-item-here';\r\n    }\r\n\r\n    if (item.submenu && this.isMenuItemIsActive(item)) {\r\n      classes += ' menu-item-open menu-item-here';\r\n    }\r\n\r\n    // custom class for menu item\r\n    const customClass = objectPath.get(item, 'custom-class');\r\n    if (customClass) {\r\n      classes += ' ' + customClass;\r\n    }\r\n\r\n    if (objectPath.get(item, 'icon-only')) {\r\n      classes += ' menu-item-icon-only';\r\n    }\r\n\r\n    return classes;\r\n  }\r\n\r\n  getItemAttrSubmenuToggle(item) {\r\n    let toggle = 'hover';\r\n    if (objectPath.get(item, 'toggle') === 'click') {\r\n      toggle = 'click';\r\n    } else if (objectPath.get(item, 'submenu.type') === 'tabs') {\r\n      toggle = 'tabs';\r\n    } else {\r\n      // submenu toggle default to 'hover'\r\n    }\r\n\r\n    return toggle;\r\n  }\r\n\r\n\r\n  mobileMenuClose() {\r\n    if (KTUtil.isBreakpointDown('lg') && this.offcanvas) {\r\n      this.offcanvas.hide();\r\n    }\r\n  }\r\n}\r\n"]}