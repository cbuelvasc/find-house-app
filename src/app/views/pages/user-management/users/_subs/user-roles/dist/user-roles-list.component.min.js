"use strict";var __decorate=this&&this.__decorate||function(e,s,t,o){var r,n=arguments.length,i=n<3?s:null===o?o=Object.getOwnPropertyDescriptor(s,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,s,t,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(i=(n<3?r(i):3<n?r(s,t,i):r(s,t))||i);return 3<n&&i&&Object.defineProperty(s,t,i),i};exports.__esModule=!0;var core_1=require("@angular/core"),rxjs_1=require("rxjs"),store_1=require("@ngrx/store"),lodash_1=require("lodash"),auth_1=require("../../../../../../core/auth"),UserRolesListComponent=function(){function e(e){this.store=e,this.loadingSubject=new rxjs_1.BehaviorSubject(!1),this.allRoles=[],this.unassignedRoles=[],this.assignedRoles=[]}return e.prototype.ngOnInit=function(){var o=this;this.allUserRoles$=this.store.pipe(store_1.select(auth_1.selectAllRoles)),this.allUserRoles$.subscribe(function(e){lodash_1.each(e,function(e){o.allRoles.push(e),o.unassignedRoles.push(e)}),lodash_1.each(o.rolesSubject.value,function(s){var t=lodash_1.find(o.allRoles,function(e){return e.id===s});t&&(o.assignedRoles.push(t),lodash_1.remove(o.unassignedRoles,function(e){return e.id===t.id}))})})},e.prototype.assignRole=function(){var s=this;if(!this.roleIdForAdding){var t=lodash_1.find(this.allRoles,function(e){return e.id===s.roleIdForAdding});t&&(this.assignedRoles.push(t),lodash_1.remove(this.unassignedRoles,function(e){return e.id===t.id}),this.roleIdForAdding="",this.updateRoles())}},e.prototype.unassingRole=function(s){this.roleIdForAdding="",this.unassignedRoles.push(s),lodash_1.remove(this.assignedRoles,function(e){return e.id===s.id}),this.updateRoles()},e.prototype.updateRoles=function(){var s=[];lodash_1.each(this.assignedRoles,function(e){return s.push(e.id)}),this.rolesSubject.next(s)},__decorate([core_1.Input()],e.prototype,"loadingSubject"),__decorate([core_1.Input()],e.prototype,"rolesSubject"),e=__decorate([core_1.Component({selector:"kt-user-roles-list",templateUrl:"./user-roles-list.component.html"})],e)}();exports.UserRolesListComponent=UserRolesListComponent;
//# sourceMappingURL=user-roles-list.component.min.js.map
