{"version":3,"sources":["properties.datasource.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,qCAA4C;AAE5C,yCAAqE;AAGrE,uEAA4I;AAE5I;IAA0C,wCAAc;IAEtD,8BAAoB,KAAsB;QAA1C,YACE,iBAAO,SAeR;QAhBmB,WAAK,GAAL,KAAK,CAAiB;QAExC,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CAC7B,cAAM,CAAC,gDAA2B,CAAC,CACpC,CAAC;QAEF,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CACzC,cAAM,CAAC,uDAAkC,CAAC,CAC3C,CAAC;QAEF,KAAI,CAAC,KAAK,CAAC,IAAI,CACb,cAAM,CAAC,4CAAuB,CAAC,CAChC,CAAC,SAAS,CAAC,UAAC,QAA2B;YACtC,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YACrD,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;;IACL,CAAC;IACH,2BAAC;AAAD,CAnBA,AAmBC,CAnByC,qBAAc,GAmBvD;AAnBY,oDAAoB","file":"properties.datasource.js","sourcesContent":["import { Store, select } from '@ngrx/store';\r\n\r\nimport { QueryResultsModel, BaseDataSource } from '../../_base/crud';\r\nimport { AppState } from '../../reducers';\r\n\r\nimport { selectPropertiesInStore, selectPropertiesPageLoading, selectPropertiesInitWaitingMessage } from '../_selectors/property.selectors';\r\n\r\nexport class PropertiesDataSource extends BaseDataSource {\r\n\r\n  constructor(private store: Store<AppState>) {\r\n    super();\r\n    this.loading$ = this.store.pipe(\r\n      select(selectPropertiesPageLoading)\r\n    );\r\n\r\n    this.isPreloadTextViewed$ = this.store.pipe(\r\n      select(selectPropertiesInitWaitingMessage)\r\n    );\r\n\r\n    this.store.pipe(\r\n      select(selectPropertiesInStore)\r\n    ).subscribe((response: QueryResultsModel) => {\r\n      this.paginatorTotalSubject.next(response.totalCount);\r\n      this.entitySubject.next(response.items);\r\n    });\r\n  }\r\n}\r\n"]}