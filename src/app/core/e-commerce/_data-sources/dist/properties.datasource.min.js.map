{"version":3,"sources":["properties.datasource.ts"],"names":["store_1","require","crud_1","property_selectors_1","PropertiesDataSource","_super","store","_this","call","this","loading$","pipe","select","selectPropertiesPageLoading","isPreloadTextViewed$","selectPropertiesInitWaitingMessage","selectPropertiesInStore","subscribe","response","paginatorTotalSubject","next","totalCount","entitySubject","items","__extends","BaseDataSource","exports"],"mappings":"gZAAA,IAAAA,QAAAC,QAAA,eAEAC,OAAAD,QAAA,oBAGAE,qBAAAF,QAAA,oCAEAG,qBAAA,SAAAC,GAEE,SAAAD,EAAoBE,GAApB,IAAAC,EACEF,EAAAG,KAAAC,OAAOA,YADWF,EAAAD,MAAAA,EAElBC,EAAKG,SAAWH,EAAKD,MAAMK,KACzBX,QAAAY,OAAOT,qBAAAU,8BAGTN,EAAKO,qBAAuBP,EAAKD,MAAMK,KACrCX,QAAAY,OAAOT,qBAAAY,qCAGTR,EAAKD,MAAMK,KACTX,QAAAY,OAAOT,qBAAAa,0BACPC,UAAU,SAACC,GACXX,EAAKY,sBAAsBC,KAAKF,EAASG,YACzCd,EAAKe,cAAcF,KAAKF,EAASK,WAGvC,OAnB0CC,UAAApB,EAAAC,GAmB1CD,EAnBA,CAA0CF,OAAAuB,gBAA7BC,QAAAtB,qBAAAA","file":"properties.datasource.min.js","sourcesContent":["import { Store, select } from '@ngrx/store';\r\n\r\nimport { QueryResultsModel, BaseDataSource } from '../../_base/crud';\r\nimport { AppState } from '../../reducers';\r\n\r\nimport { selectPropertiesInStore, selectPropertiesPageLoading, selectPropertiesInitWaitingMessage } from '../_selectors/property.selectors';\r\n\r\nexport class PropertiesDataSource extends BaseDataSource {\r\n\r\n  constructor(private store: Store<AppState>) {\r\n    super();\r\n    this.loading$ = this.store.pipe(\r\n      select(selectPropertiesPageLoading)\r\n    );\r\n\r\n    this.isPreloadTextViewed$ = this.store.pipe(\r\n      select(selectPropertiesInitWaitingMessage)\r\n    );\r\n\r\n    this.store.pipe(\r\n      select(selectPropertiesInStore)\r\n    ).subscribe((response: QueryResultsModel) => {\r\n      this.paginatorTotalSubject.next(response.totalCount);\r\n      this.entitySubject.next(response.items);\r\n    });\r\n  }\r\n}\r\n"]}