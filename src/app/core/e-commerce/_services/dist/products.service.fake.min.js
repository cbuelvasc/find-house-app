"use strict";var __decorate=this&&this.__decorate||function(t,e,r,o){var s,u=arguments.length,c=u<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,o);else for(var i=t.length-1;0<=i;i--)(s=t[i])&&(c=(u<3?s(c):3<u?s(e,r,c):s(e,r))||c);return 3<u&&c&&Object.defineProperty(e,r,c),c};exports.__esModule=!0;var core_1=require("@angular/core"),rxjs_1=require("rxjs"),operators_1=require("rxjs/operators"),crud_1=require("../../_base/crud"),lodash_1=require("lodash"),API_PRODUCTS_URL="api/products",ProductsService=function(){function t(t,e){this.http=t,this.httpUtils=e,this.lastFilter$=new rxjs_1.BehaviorSubject(new crud_1.QueryParamsModel({},"asc","",0,10))}return t.prototype.createProduct=function(t){var e=this.httpUtils.getHTTPHeaders();return this.http.post(API_PRODUCTS_URL,t,{headers:e})},t.prototype.getAllProducts=function(){return this.http.get(API_PRODUCTS_URL)},t.prototype.getProductById=function(t){return this.http.get(API_PRODUCTS_URL+"/"+t)},t.prototype.findProducts=function(r){var o=this;return this.getAllProducts().pipe(operators_1.mergeMap(function(t){var e=o.httpUtils.baseFilter(t,r,["status","condition"]);return rxjs_1.of(e)}))},t.prototype.updateProduct=function(t){var e=this.httpUtils.getHTTPHeaders();return this.http.put(API_PRODUCTS_URL,t,{headers:e})},t.prototype.updateStatusForProduct=function(t,r){var o=this,s=[];return lodash_1.each(t,function(t){var e=Object.assign({},t);e.status=r,s.push(o.updateProduct(e))}),rxjs_1.forkJoin(s)},t.prototype.deleteProduct=function(t){var e=API_PRODUCTS_URL+"/"+t;return this.http.delete(e)},t.prototype.deleteProducts=function(t){void 0===t&&(t=[]);for(var e=[],r=t.length,o=0;o<r;o++)e.push(this.deleteProduct(t[o]));return rxjs_1.forkJoin(e)},t=__decorate([core_1.Injectable()],t)}();exports.ProductsService=ProductsService;
//# sourceMappingURL=products.service.fake.min.js.map
