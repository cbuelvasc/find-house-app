"use strict";var _a,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++)for(var s in e=arguments[a])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};exports.__esModule=!0;var store_1=require("@ngrx/store"),entity_1=require("@ngrx/entity"),product_actions_1=require("../_actions/product.actions"),crud_1=require("../../_base/crud");function productsReducer(t,e){switch(void 0===t&&(t=exports.initialProductsState),e.type){case product_actions_1.ProductActionTypes.ProductsPageToggleLoading:return __assign(__assign({},t),{listLoading:e.payload.isLoading,lastCreatedProductId:void 0});case product_actions_1.ProductActionTypes.ProductsActionToggleLoading:return __assign(__assign({},t),{actionsloading:e.payload.isLoading});case product_actions_1.ProductActionTypes.ProductOnServerCreated:return __assign({},t);case product_actions_1.ProductActionTypes.ProductCreated:return exports.adapter.addOne(e.payload.product,__assign(__assign({},t),{lastCreatedProductId:e.payload.product.id}));case product_actions_1.ProductActionTypes.ProductUpdated:return exports.adapter.updateOne(e.payload.partialProduct,t);case product_actions_1.ProductActionTypes.ProductsStatusUpdated:for(var a=[],r=0;r<e.payload.products.length;r++)a.push({id:e.payload.products[r].id,changes:{status:e.payload.status}});return exports.adapter.updateMany(a,t);case product_actions_1.ProductActionTypes.OneProductDeleted:return exports.adapter.removeOne(e.payload.id,t);case product_actions_1.ProductActionTypes.ManyProductsDeleted:return exports.adapter.removeMany(e.payload.ids,t);case product_actions_1.ProductActionTypes.ProductsPageCancelled:return __assign(__assign({},t),{listLoading:!1,lastQuery:new crud_1.QueryParamsModel({})});case product_actions_1.ProductActionTypes.ProductsPageLoaded:return exports.adapter.addMany(e.payload.products,__assign(__assign({},exports.initialProductsState),{totalCount:e.payload.totalCount,listLoading:!1,lastQuery:e.payload.page,showInitWaitingMessage:!1}));default:return t}}exports.adapter=entity_1.createEntityAdapter(),exports.initialProductsState=exports.adapter.getInitialState({listLoading:!1,actionsloading:!1,totalCount:0,lastQuery:new crud_1.QueryParamsModel({}),lastCreatedProductId:void 0,showInitWaitingMessage:!0}),exports.productsReducer=productsReducer,exports.getProductState=store_1.createFeatureSelector("products"),exports.selectAll=(_a=exports.adapter.getSelectors()).selectAll,exports.selectEntities=_a.selectEntities,exports.selectIds=_a.selectIds,exports.selectTotal=_a.selectTotal;
//# sourceMappingURL=product.reducers.min.js.map
