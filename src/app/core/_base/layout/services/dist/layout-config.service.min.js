"use strict";var __decorate=this&&this.__decorate||function(t,o,e,i){var n,a=arguments.length,r=a<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,e,i);else for(var g=t.length-1;0<=g;g--)(n=t[g])&&(r=(a<3?n(r):3<a?n(o,e,r):n(o,e))||r);return 3<a&&r&&Object.defineProperty(o,e,r),r};exports.__esModule=!0;var core_1=require("@angular/core"),rxjs_1=require("rxjs"),objectPath=require("object-path"),lodash_1=require("lodash"),localStorageKey="layoutConfig",LayoutConfigService=function(){function t(){this.onConfigUpdated$=new rxjs_1.Subject}return t.prototype.saveConfig=function(t){t&&localStorage.setItem(localStorageKey,JSON.stringify(t))},t.prototype.getSavedConfig=function(){var t=localStorage.getItem(localStorageKey);try{return JSON.parse(t)}catch(t){}},t.prototype.resetConfig=function(){localStorage.removeItem("layoutConfig")},t.prototype.getConfig=function(t){return this.layoutConfig=this.getSavedConfig(),t?objectPath.get(this.layoutConfig,t):this.layoutConfig},t.prototype.setConfig=function(t,o){this.layoutConfig=lodash_1.merge(this.layoutConfig,t),o&&this.saveConfig(this.layoutConfig),this.onConfigUpdated$.next(this.layoutConfig)},t.prototype.getLogo=function(){var t,o=objectPath.get(this.layoutConfig,"brand.self.theme"),e=objectPath.get(this.layoutConfig,"self.logo");if("string"==typeof e&&(t=e),"object"==typeof e&&(t=objectPath.get(e,o+"")),void 0===t)try{var i=objectPath.get(this.layoutConfig,"self.logo");t=i[Object.keys(i)[0]]}catch(t){}return t},t.prototype.getStickyLogo=function(){var t=objectPath.get(this.layoutConfig,"self.logo.sticky");return void 0===t&&(t=this.getLogo()),t+""},t.prototype.loadConfigs=function(t){this.layoutConfig=this.getSavedConfig(),this.layoutConfig&&objectPath.get(this.layoutConfig,"demo")===t.demo||(this.layoutConfig=t),this.saveConfig(this.layoutConfig)},t.prototype.reloadConfigs=function(){return this.layoutConfig=this.getSavedConfig(),this.onConfigUpdated$.next(this.layoutConfig),this.layoutConfig},t=__decorate([core_1.Injectable()],t)}();exports.LayoutConfigService=LayoutConfigService;
//# sourceMappingURL=layout-config.service.min.js.map
