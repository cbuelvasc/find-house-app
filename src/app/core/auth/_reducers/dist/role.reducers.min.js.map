{"version":3,"sources":["role.reducers.ts"],"names":["entity_1","require","role_actions_1","crud_1","rolesReducer","state","action","exports","initialRolesState","type","RoleActionTypes","RolesPageToggleLoading","__assign","listLoading","payload","isLoading","lastCreatedRoleId","undefined","RolesActionToggleLoading","actionsloading","RoleOnServerCreated","RoleCreated","adapter","addOne","role","id","RoleUpdated","updateOne","partialrole","RoleDeleted","removeOne","AllRolesLoaded","addAll","roles","isAllRolesLoaded","RolesPageCancelled","queryRowsCount","queryResult","lastQuery","QueryParamsModel","RolesPageLoaded","addMany","totalCount","page","showInitWaitingMessage","createEntityAdapter","getInitialState","selectAll","_a","getSelectors","selectEntities","selectIds","selectTotal"],"mappings":"4RACA,IAAAA,SAAAC,QAAA,gBAEAC,eAAAD,QAAA,4BAGAE,OAAAF,QAAA,oBA0BA,SAAgBG,aAAaC,EAA2BC,GACtD,YAD2B,IAAAD,IAAAA,EAAQE,QAAAC,mBAC3BF,EAAOG,MACb,KAAKP,eAAAQ,gBAAgBC,uBACnB,OAAAC,SAAAA,SAAA,GACKP,GAAK,CAAEQ,YAAaP,EAAOQ,QAAQC,UAAWC,uBAAmBC,IAExE,KAAKf,eAAAQ,gBAAgBQ,yBACnB,OAAAN,SAAAA,SAAA,GACKP,GAAK,CAAEc,eAAgBb,EAAOQ,QAAQC,YAE7C,KAAKb,eAAAQ,gBAAgBU,oBACnB,OAAAR,SAAA,GACKP,GAEP,KAAKH,eAAAQ,gBAAgBW,YACnB,OAAOd,QAAAe,QAAQC,OAAOjB,EAAOQ,QAAQU,KAAIZ,SAAAA,SAAA,GACpCP,GAAK,CAAEW,kBAAmBV,EAAOQ,QAAQU,KAAKC,MAErD,KAAKvB,eAAAQ,gBAAgBgB,YACnB,OAAOnB,QAAAe,QAAQK,UAAUrB,EAAOQ,QAAQc,YAAavB,GACvD,KAAKH,eAAAQ,gBAAgBmB,YACnB,OAAOtB,QAAAe,QAAQQ,UAAUxB,EAAOQ,QAAQW,GAAIpB,GAC9C,KAAKH,eAAAQ,gBAAgBqB,eACnB,OAAOxB,QAAAe,QAAQU,OAAO1B,EAAOQ,QAAQmB,MAAKrB,SAAAA,SAAA,GACrCP,GAAK,CAAE6B,kBAAkB,KAEhC,KAAKhC,eAAAQ,gBAAgByB,mBACnB,OAAAvB,SAAAA,SAAA,GACKP,GAAK,CAAEQ,aAAa,EAAOuB,eAAgB,EAAGC,YAAa,GAAIC,UAAW,IAAInC,OAAAoC,iBAAiB,MAEtG,KAAKrC,eAAAQ,gBAAgB8B,gBACnB,OAAOjC,QAAAe,QAAQmB,QAAQnC,EAAOQ,QAAQmB,MAAKrB,SAAAA,SAAA,GACtCL,QAAAC,mBAAiB,CACpBK,aAAa,EACbuB,eAAgB9B,EAAOQ,QAAQ4B,WAC/BL,YAAa/B,EAAOQ,QAAQmB,MAC5BK,UAAWhC,EAAOQ,QAAQ6B,KAC1BC,wBAAwB,KAE5B,QACE,OAAOvC,GArDAE,QAAAe,QAA+BtB,SAAA6C,sBAE/BtC,QAAAC,kBAAgCD,QAAAe,QAAQwB,gBAAgB,CACnEZ,kBAAkB,EAClBE,eAAgB,EAChBC,YAAa,GACbrB,uBAAmBC,EACnBJ,aAAa,EACbM,gBAAgB,EAChBmB,UAAW,IAAInC,OAAAoC,iBAAiB,IAChCK,wBAAwB,IAG1BrC,QAAAH,aAAAA,aA6CEG,QAAAwC,WADWC,GAKTzC,QAAAe,QAAQ2B,gBAAcF,UAHxBxC,QAAA2C,eAAcF,GAAAE,eACd3C,QAAA4C,UAASH,GAAAG,UACT5C,QAAA6C,YAAWJ,GAAAI","file":"role.reducers.min.js","sourcesContent":["// NGRX\r\nimport { EntityState, EntityAdapter, createEntityAdapter } from '@ngrx/entity';\r\n// Actions\r\nimport { RoleActions, RoleActionTypes } from '../_actions/role.actions';\r\n// Models\r\nimport { Role } from '../_models/role.model';\r\nimport { QueryParamsModel } from '../../_base/crud';\r\n\r\nexport interface RolesState extends EntityState<Role> {\r\n    isAllRolesLoaded: boolean;\r\n    queryRowsCount: number;\r\n    queryResult: Role[];\r\n    lastCreatedRoleId: string;\r\n    listLoading: boolean;\r\n    actionsloading: boolean;\r\n    lastQuery: QueryParamsModel;\r\n    showInitWaitingMessage: boolean;\r\n}\r\n\r\nexport const adapter: EntityAdapter<Role> = createEntityAdapter<Role>();\r\n\r\nexport const initialRolesState: RolesState = adapter.getInitialState({\r\n  isAllRolesLoaded: false,\r\n  queryRowsCount: 0,\r\n  queryResult: [],\r\n  lastCreatedRoleId: undefined,\r\n  listLoading: false,\r\n  actionsloading: false,\r\n  lastQuery: new QueryParamsModel({}),\r\n  showInitWaitingMessage: true\r\n});\r\n\r\nexport function rolesReducer(state = initialRolesState, action: RoleActions): RolesState {\r\n  switch (action.type) {\r\n    case RoleActionTypes.RolesPageToggleLoading:\r\n      return {\r\n        ...state, listLoading: action.payload.isLoading, lastCreatedRoleId: undefined\r\n      };\r\n    case RoleActionTypes.RolesActionToggleLoading:\r\n      return {\r\n        ...state, actionsloading: action.payload.isLoading\r\n      };\r\n    case RoleActionTypes.RoleOnServerCreated:\r\n      return {\r\n        ...state\r\n      };\r\n    case RoleActionTypes.RoleCreated:\r\n      return adapter.addOne(action.payload.role, {\r\n        ...state, lastCreatedRoleId: action.payload.role.id\r\n      });\r\n    case RoleActionTypes.RoleUpdated:\r\n      return adapter.updateOne(action.payload.partialrole, state);\r\n    case RoleActionTypes.RoleDeleted:\r\n      return adapter.removeOne(action.payload.id, state);\r\n    case RoleActionTypes.AllRolesLoaded:\r\n      return adapter.addAll(action.payload.roles, {\r\n        ...state, isAllRolesLoaded: true\r\n      });\r\n    case RoleActionTypes.RolesPageCancelled:\r\n      return {\r\n        ...state, listLoading: false, queryRowsCount: 0, queryResult: [], lastQuery: new QueryParamsModel({})\r\n      };\r\n    case RoleActionTypes.RolesPageLoaded:\r\n      return adapter.addMany(action.payload.roles, {\r\n        ...initialRolesState,\r\n        listLoading: false,\r\n        queryRowsCount: action.payload.totalCount,\r\n        queryResult: action.payload.roles,\r\n        lastQuery: action.payload.page,\r\n        showInitWaitingMessage: false\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const {\r\n  selectAll,\r\n  selectEntities,\r\n  selectIds,\r\n  selectTotal\r\n} = adapter.getSelectors();\r\n"]}