"use strict";exports.__esModule=!0;var store_1=require("@ngrx/store"),lodash_1=require("lodash"),role_selectors_1=require("./role.selectors"),permission_selectors_1=require("./permission.selectors");function getPermissionsIdsFrom(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var s=[];lodash_1.each(e,function(r){var e=lodash_1.find(t,function(e){return e.id===r});e&&s.push(e)});var o=[];return lodash_1.each(s,function(e){lodash_1.each(e.permissions,function(r){lodash_1.some(o,function(e){return e===r})||o.push(r)})}),o}exports.selectAuthState=function(e){return e.auth},exports.isLoggedIn=store_1.createSelector(exports.selectAuthState,function(e){return e.loggedIn}),exports.isLoggedOut=store_1.createSelector(exports.isLoggedIn,function(e){return!e}),exports.currentAuthToken=store_1.createSelector(exports.selectAuthState,function(e){return e.authToken}),exports.isUserLoaded=store_1.createSelector(exports.selectAuthState,function(e){return e.isUserLoaded}),exports.currentUser=store_1.createSelector(exports.selectAuthState,function(e){return e.user}),exports.currentUserRoleIds=store_1.createSelector(exports.currentUser,function(e){return e?e.roles:[]}),exports.currentUserPermissionsIds=store_1.createSelector(exports.currentUserRoleIds,role_selectors_1.selectAllRoles,function(e,r){return getPermissionsIdsFrom(e,r)}),exports.checkHasUserPermission=function(r){return store_1.createSelector(exports.currentUserPermissionsIds,function(e){return e.some(function(e){return e===r})})},exports.currentUserPermissions=store_1.createSelector(exports.currentUserPermissionsIds,permission_selectors_1.selectAllPermissions,function(e,t){var s=[];return lodash_1.each(e,function(r){var e=lodash_1.find(t,function(e){return e.id===r});e&&s.push(e)}),s});
//# sourceMappingURL=auth.selectors.min.js.map
